<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decision Tree ê¸°í•˜í•™ì  ì‹œê°í™”</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .canvas-container {
            text-align: center;
            margin: 20px 0;
        }
        canvas {
            border: 2px solid #333;
            border-radius: 5px;
        }
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
        }
        .info {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ³ Decision Tree: 2D ê¸°í•˜í•™ì  ë¶„í• </h1>
        
        <div class="info">
            <h3>ğŸ“Š ë°ì´í„°ì…‹: ì˜¨ë„ vs ìŠµë„ë¡œ ìš´ë™ ì—¬ë¶€ ì˜ˆì¸¡</h3>
            <p><strong>Xì¶•:</strong> ì˜¨ë„ (Â°C) | <strong>Yì¶•:</strong> ìŠµë„ (%)</p>
        </div>

        <div class="canvas-container">
            <canvas id="treeCanvas" width="600" height="400"></canvas>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #ff6b6b;"></div>
                <span>ìš´ë™ ì•ˆí•¨ âŒ</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #51cf66;"></div>
                <span>ìš´ë™í•¨ âœ…</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #333;"></div>
                <span>Decision Boundary</span>
            </div>
        </div>

        <div style="text-align: center;">
            <button onclick="showStep(1)">1ë‹¨ê³„: ì˜¨ë„ ë¶„í• </button>
            <button onclick="showStep(2)">2ë‹¨ê³„: ìŠµë„ ë¶„í• </button>
            <button onclick="showStep(3)">3ë‹¨ê³„: ìµœì¢… ê²°ê³¼</button>
            <button onclick="showStep(0)">ì „ì²´ ë³´ê¸°</button>
        </div>

        <div class="info" id="stepInfo">
            <h3>ğŸ” Decision Tree ë¶„í•  ê³¼ì •</h3>
            <p>ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ë‹¨ê³„ë³„ ë¶„í•  ê³¼ì •ì„ í™•ì¸í•´ë³´ì„¸ìš”!</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('treeCanvas');
        const ctx = canvas.getContext('2d');
        
        // ë°ì´í„° í¬ì¸íŠ¸ë“¤ (ì˜¨ë„, ìŠµë„, í´ë˜ìŠ¤)
        const dataPoints = [
            {x: 15, y: 80, class: 0, label: 'ì¶”ìœ„+ìŠµí•¨'}, // ìš´ë™ ì•ˆí•¨
            {x: 18, y: 75, class: 0, label: 'ì¶”ìœ„+ìŠµí•¨'},
            {x: 12, y: 90, class: 0, label: 'ì¶”ìœ„+ìŠµí•¨'},
            {x: 25, y: 85, class: 0, label: 'ì ë‹¹+ìŠµí•¨'}, // ìš´ë™ ì•ˆí•¨ (ë„ˆë¬´ ìŠµí•¨)
            {x: 28, y: 90, class: 0, label: 'ì ë‹¹+ìŠµí•¨'},
            {x: 35, y: 80, class: 0, label: 'ë”ì›€+ìŠµí•¨'}, // ìš´ë™ ì•ˆí•¨ (ë¥ê³  ìŠµí•¨)
            {x: 38, y: 85, class: 0, label: 'ë”ì›€+ìŠµí•¨'},
            {x: 25, y: 40, class: 1, label: 'ì ë‹¹+ê±´ì¡°'}, // ìš´ë™í•¨
            {x: 28, y: 35, class: 1, label: 'ì ë‹¹+ê±´ì¡°'},
            {x: 30, y: 45, class: 1, label: 'ì ë‹¹+ê±´ì¡°'},
            {x: 32, y: 30, class: 1, label: 'ì ë‹¹+ê±´ì¡°'},
            {x: 22, y: 50, class: 1, label: 'ì ë‹¹+ê±´ì¡°'},
            {x: 35, y: 40, class: 1, label: 'ë”°ëœ»+ê±´ì¡°'}, // ìš´ë™í•¨
            {x: 38, y: 35, class: 1, label: 'ë”°ëœ»+ê±´ì¡°'},
        ];

        let currentStep = 0;

        function drawBackground() {
            ctx.fillStyle = '#f8f9fa';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        function transformCoord(temp, humidity) {
            // ì˜¨ë„: 10-40Â°C -> 50-550px
            // ìŠµë„: 20-100% -> 350-50px (Yì¶• ë’¤ì§‘ê¸°)
            const x = 50 + (temp - 10) * 500 / 30;
            const y = 350 - (humidity - 20) * 300 / 80;
            return {x, y};
        }

        function drawAxes() {
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            
            // Xì¶• (ì˜¨ë„)
            ctx.beginPath();
            ctx.moveTo(50, 350);
            ctx.lineTo(550, 350);
            ctx.stroke();
            
            // Yì¶• (ìŠµë„)
            ctx.beginPath();
            ctx.moveTo(50, 50);
            ctx.lineTo(50, 350);
            ctx.stroke();
            
            // ì¶• ë ˆì´ë¸”
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            
            // Xì¶• ëˆˆê¸ˆ
            for(let temp = 10; temp <= 40; temp += 10) {
                const pos = transformCoord(temp, 20);
                ctx.fillText(temp + 'Â°C', pos.x, 370);
            }
            
            // Yì¶• ëˆˆê¸ˆ
            ctx.textAlign = 'right';
            for(let humidity = 20; humidity <= 100; humidity += 20) {
                const pos = transformCoord(10, humidity);
                ctx.fillText(humidity + '%', 45, pos.y + 5);
            }
            
            // ì¶• ì œëª©
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('ì˜¨ë„ (Temperature)', 300, 390);
            
            ctx.save();
            ctx.translate(25, 200);
            ctx.rotate(-Math.PI/2);
            ctx.fillText('ìŠµë„ (Humidity)', 0, 0);
            ctx.restore();
        }

        function drawDataPoints() {
            dataPoints.forEach(point => {
                const pos = transformCoord(point.x, point.y);
                
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, 8, 0, 2 * Math.PI);
                ctx.fillStyle = point.class === 1 ? '#51cf66' : '#ff6b6b';
                ctx.fill();
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 2;
                ctx.stroke();
            });
        }

        function drawDecisionBoundary(step) {
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 3;
            ctx.setLineDash([5, 5]);
            
            // ì¢Œí‘œ ë¯¸ë¦¬ ê³„ì‚°
            const temp25 = transformCoord(25, 20);
            const humidity65 = transformCoord(25, 65);
            
            if (step >= 1) {
                // 1ë‹¨ê³„: ì˜¨ë„ 25Â°Cë¡œ ë¶„í• 
                ctx.beginPath();
                ctx.moveTo(temp25.x, 50);
                ctx.lineTo(temp25.x, 350);
                ctx.stroke();
                
                // ë ˆì´ë¸”
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('ì˜¨ë„ < 25Â°C', temp25.x - 60, 30);
                ctx.fillText('ì˜¨ë„ â‰¥ 25Â°C', temp25.x + 60, 30);
            }
            
            if (step >= 2) {
                // 2ë‹¨ê³„: ì˜¨ë„ â‰¥ 25ì¸ ì˜ì—­ì„ ìŠµë„ 65%ë¡œ ë¶„í• 
                ctx.beginPath();
                ctx.moveTo(temp25.x, humidity65.y);
                ctx.lineTo(550, humidity65.y);
                ctx.stroke();
                
                // ë ˆì´ë¸”
                ctx.textAlign = 'left';
                ctx.fillText('ìŠµë„ â‰¥ 65%', temp25.x + 10, humidity65.y - 10);
                ctx.fillText('ìŠµë„ < 65%', temp25.x + 10, humidity65.y + 20);
            }
            
            ctx.setLineDash([]);
        }

        function drawRegions(step) {
            if (step < 3) return;
            
            ctx.globalAlpha = 0.2;
            
            // ì™¼ìª½ ì˜ì—­ (ì˜¨ë„ < 25): ìš´ë™ ì•ˆí•¨
            ctx.fillStyle = '#ff6b6b';
            ctx.fillRect(50, 50, transformCoord(25, 20).x - 50, 300);
            
            // ì˜¤ë¥¸ìª½ ìœ„ ì˜ì—­ (ì˜¨ë„ â‰¥ 25, ìŠµë„ â‰¥ 65): ìš´ë™ ì•ˆí•¨
            const temp25 = transformCoord(25, 20);
            const humidity65 = transformCoord(25, 65);
            ctx.fillRect(temp25.x, 50, 500, humidity65.y - 50);
            
            // ì˜¤ë¥¸ìª½ ì•„ë˜ ì˜ì—­ (ì˜¨ë„ â‰¥ 25, ìŠµë„ < 65): ìš´ë™í•¨
            ctx.fillStyle = '#51cf66';
            ctx.fillRect(temp25.x, humidity65.y, 500, 300 - (humidity65.y - 50));
            
            ctx.globalAlpha = 1;
        }

        function updateStepInfo(step) {
            const info = document.getElementById('stepInfo');
            const messages = [
                '<h3>ğŸ” ì „ì²´ Decision Tree</h3><p>ëª¨ë“  ë¶„í•  ê²½ê³„ì™€ ìµœì¢… ë¶„ë¥˜ ì˜ì—­ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>',
                '<h3>1ï¸âƒ£ 1ë‹¨ê³„: ì˜¨ë„ë¡œ ë¶„í• </h3><p><strong>ì˜¨ë„ < 25Â°C:</strong> ë„ˆë¬´ ì¶”ì›Œì„œ ìš´ë™ ì•ˆí•¨<br><strong>ì˜¨ë„ â‰¥ 25Â°C:</strong> ì ë‹¹í•œ ì˜¨ë„, ì¶”ê°€ ë¶„í•  í•„ìš”</p>',
                '<h3>2ï¸âƒ£ 2ë‹¨ê³„: ìŠµë„ë¡œ ì„¸ë¶„í™”</h3><p><strong>ì˜¨ë„ â‰¥ 25Â°C & ìŠµë„ â‰¥ 65%:</strong> ë„ˆë¬´ ìŠµí•´ì„œ ìš´ë™ ì•ˆí•¨<br><strong>ì˜¨ë„ â‰¥ 25Â°C & ìŠµë„ < 65%:</strong> ìš´ë™í•˜ê¸° ì¢‹ì€ ì¡°ê±´!</p>',
                '<h3>3ï¸âƒ£ ìµœì¢… ê²°ê³¼</h3><p>ğŸ”´ ë¹¨ê°„ ì˜ì—­: ìš´ë™ ì•ˆí•¨<br>ğŸŸ¢ ì´ˆë¡ ì˜ì—­: ìš´ë™í•¨<br><br>Decision Treeê°€ 2D ê³µê°„ì„ ì§ì‚¬ê°í˜• ì˜ì—­ë“¤ë¡œ ë¶„í• í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!</p>'
            ];
            info.innerHTML = messages[step];
        }

        function showStep(step) {
            currentStep = step;
            drawBackground();
            drawAxes();
            
            if (step >= 3 || step === 0) {
                drawRegions(3);
            }
            
            drawDecisionBoundary(step === 0 ? 2 : step);
            drawDataPoints();
            
            updateStepInfo(step);
        }

        // ì´ˆê¸° í™”ë©´
        showStep(0);
    </script>
</body>
</html>